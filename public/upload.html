<!DOCTYPE html><html lang="id"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Upload File</title></head><body>
  <h2>Upload File (JPG, PNG, PDF)</h2>
  <input type="file" id="fileInput" accept=".jpg,.jpeg,.png,.pdf">
  <button id="btnUpload">Upload</button>
  <div id="msg"></div>
  <script>
    document.getElementById('btnUpload').onclick = async () => {
      const f = document.getElementById('fileInput').files[0];
      const msg = document.getElementById('msg');
      msg.textContent = '';
      if (!f) return msg.textContent = 'Pilih file dulu!';
      const reader = new FileReader();
      reader.onload = async () => {
        const base64Data = reader.result;
        const res = await fetch('/.netlify/functions/upload', {
          method: 'POST',
          headers: { 'file-name': f.name },
          body: base64Data
        });
        const j = await res.json();
        msg.textContent = res.ok ? 'Upload sukses: ' + j.file : 'Error: ' + j.error;
      };
      reader.readAsDataURL(f);
    };
  </script>
</body></html>
